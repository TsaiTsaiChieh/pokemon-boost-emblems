import{r as m}from"./react-dom.1d83f849.js";import"./hoist-non-react-statics.0f695828.js";import{r as i}from"./react.779a6969.js";import"./react-is.8410b3df.js";import{j as g}from"./@mui.efac41ec.js";import{w as C}from"./use-sync-external-store.4912e253.js";function v(e){e()}let p=v;const w=e=>p=e,E=()=>p,c=i.exports.createContext(null);function S(){return i.exports.useContext(c)}const N=()=>{throw new Error("uSES not initialized!")};let b=N;const D=e=>{b=e},L=(e,o)=>e===o;function R(e=c){const o=e===c?S:()=>i.exports.useContext(e);return function(t,s=L){const{store:n,subscription:a,getServerState:u}=o(),l=b(a.addNestedSub,n.getState,u||n.getState,t,s);return i.exports.useDebugValue(l),l}}const q=R();function U(){const e=E();let o=null,r=null;return{clear(){o=null,r=null},notify(){e(()=>{let t=o;for(;t;)t.callback(),t=t.next})},get(){let t=[],s=o;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0,n=r={callback:t,next:null,prev:r};return n.prev?n.prev.next=n:o=n,function(){!s||o===null||(s=!1,n.next?n.next.prev=n.prev:r=n.prev,n.prev?n.prev.next=n.next:o=n.next)}}}}const d={notify(){},get:()=>[]};function k(e,o){let r,t=d;function s(y){return l(),t.subscribe(y)}function n(){t.notify()}function a(){f.onStateChange&&f.onStateChange()}function u(){return Boolean(r)}function l(){r||(r=o?o.addNestedSub(a):e.subscribe(a),t=U())}function h(){r&&(r(),r=void 0,t.clear(),t=d)}const f={addNestedSub:s,notifyNestedSubs:n,handleChangeWrapper:a,isSubscribed:u,trySubscribe:l,tryUnsubscribe:h,getListeners:()=>t};return f}const B=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V=B?i.exports.useLayoutEffect:i.exports.useEffect;function O({store:e,context:o,children:r,serverState:t}){const s=i.exports.useMemo(()=>{const u=k(e);return{store:e,subscription:u,getServerState:t?()=>t:void 0}},[e,t]),n=i.exports.useMemo(()=>e.getState(),[e]);return V(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),n!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,n]),g((o||c).Provider,{value:s,children:r})}function x(e=c){const o=e===c?S:()=>i.exports.useContext(e);return function(){const{store:t}=o();return t}}const z=x();function H(e=c){const o=e===c?z:x(e);return function(){return o().dispatch}}const _=H();D(C.exports.useSyncExternalStoreWithSelector);w(m.exports.unstable_batchedUpdates);export{O as P,_ as a,q as u};
