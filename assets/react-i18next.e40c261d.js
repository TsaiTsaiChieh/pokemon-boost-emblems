import{createContext as R,useContext as K,useState as q,useRef as P,useEffect as S}from"react";import{b as J,e as M,k as U,n as W}from"./@babel.d42c85a2.js";var $=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,V={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xA9","&#169;":"\xA9","&reg;":"\xAE","&#174;":"\xAE","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},Y=function(e){return V[e]},_=function(e){return e.replace($,Y)};function T(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function k(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?T(Object(t),!0).forEach(function(r){U(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var j={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:_},A,G=R();function Q(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};j=k(k({},j),n)}function X(){return j}var Z=function(){function n(){M(this,n),this.usedNamespaces={}}return J(n,[{key:"addUsedNamespaces",value:function(t){var r=this;t.forEach(function(i){r.usedNamespaces[i]||(r.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),n}();function ee(n){A=n}function ne(){return A}var ue={type:"3rdParty",init:function(e){Q(e.options.react),ee(e)}};function te(){if(console&&console.warn){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];typeof t[0]=="string"&&(t[0]="react-i18next:: ".concat(t[0])),(n=console).warn.apply(n,t)}}var F={};function x(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&F[e[0]]||(typeof e[0]=="string"&&(F[e[0]]=new Date),te.apply(void 0,e))}function z(n,e,t){n.loadNamespaces(e,function(){if(n.isInitialized)t();else{var r=function i(){setTimeout(function(){n.off("initialized",i)},0),t()};n.on("initialized",r)}})}function re(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.languages[0],i=e.options?e.options.fallbackLng:!1,f=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var a=function(p,c){var g=e.services.backendConnector.state["".concat(p,"|").concat(c)];return g===-1||g===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(r,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(r,n)&&(!i||a(f,n)))}function ae(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return x("i18n.languages were undefined or empty",e.languages),!0;var r=e.options.ignoreJSONStructure!==void 0;return r?e.hasLoadedNamespace(n,{precheck:function(f,a){if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&f.services.backendConnector.backend&&f.isLanguageChangingTo&&!a(f.isLanguageChangingTo,n))return!1}}):re(n,e,t)}function H(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function N(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H(Object(t),!0).forEach(function(r){U(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var ie=function(e,t){var r=P();return S(function(){r.current=t?r.current:e},[e,t]),r.current};function ce(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.i18n,r=K(G)||{},i=r.i18n,f=r.defaultNS,a=t||i||ne();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Z),!a){x("You will need to pass in an i18next instance by using initReactI18next");var y=function(u){return Array.isArray(u)?u[u.length-1]:u},p=[y,{},!1];return p.t=y,p.i18n={},p.ready=!1,p}a.options.react&&a.options.react.wait!==void 0&&x("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=N(N(N({},X()),a.options.react),e),g=c.useSuspense,C=c.keyPrefix,s=n||f||a.options&&a.options.defaultNS;s=typeof s=="string"?[s]:s||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(s);var l=(a.isInitialized||a.initializedStoreOnce)&&s.every(function(o){return ae(o,a,c)});function m(){return a.getFixedT(null,c.nsMode==="fallback"?s:s[0],C)}var B=q(m),I=W(B,2),E=I[0],b=I[1],O=s.join(),L=ie(O),d=P(!0);S(function(){var o=c.bindI18n,u=c.bindI18nStore;d.current=!0,!l&&!g&&z(a,s,function(){d.current&&b(m)}),l&&L&&L!==O&&d.current&&b(m);function h(){d.current&&b(m)}return o&&a&&a.on(o,h),u&&a&&a.store.on(u,h),function(){d.current=!1,o&&a&&o.split(" ").forEach(function(w){return a.off(w,h)}),u&&a&&u.split(" ").forEach(function(w){return a.store.off(w,h)})}},[a,O]);var D=P(!0);S(function(){d.current&&!D.current&&b(m),D.current=!1},[a,C]);var v=[E,a,l];if(v.t=E,v.i18n=a,v.ready=l,l||!l&&!g)return v;throw new Promise(function(o){z(a,s,function(){o()})})}export{ue as i,ce as u};
